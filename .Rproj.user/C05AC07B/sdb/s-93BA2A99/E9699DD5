{
    "collab_server" : "",
    "contents" : "#' cut_one_side\n#'\n#' @param ii pattern in files you want to cut\n#' @param dir side where you want to delete part of the profile : \"l\" left , r \"right\"\n#' @details You have to click close to the limit you want to be the end of the profile\n#' @return a profil without the cut part\n#' @export\n#'\n#' @examples\ncut_one_side<-function(ii = \"dat\",gg =\"dir\")\n{\npar(mfrow=c(1,1),pty=\"m\")\nliste<-objects(pattern= ii ,pos=1)\n#\nvl<-NULL\nfor (i in 1:length(liste))\n\t{\n\tk<-NULL\n\tprint(i)\n\tnom<-liste[i]\n\tdata<-get(nom,pos=1)\n\tprofil<-data$profil\n\tl <- length(profil)\n\tplot(profil,col=\"dark grey\")\n\ttitle(main=paste(\"arbre\",nom))\n\tlines(profil,col=\"grey\")\n\tlimites<-data$limites\n\tabline(v=limites)\n\tpoints(limites,profil[limites],pc=1,col=\"green\",cex=1.2,lwd=3)\n\tyear<-data$millesimes\n\tpos<-c(limites[1]/2,diff(limites)/2)\n\ttext(limites-pos,0.95*max(profil),as.character(year),cex=0.7,srt=90,col=\"red\")\n\tk<-identify(seq(along=profil),profil,n=1)\n\tif (gg == \"l\")\n\t\t{\n\t\tprint(k)\n\t  diffmill <- limites[limites<k]\n\t  limites <- limites[limites>k]\n\t  procut<-profil[min(limites):max(limites)] ## A finir, pbm sur les limites....\n\t\tlimites <- limites-min(limites)\n\t\tplot(procut,col=\"dark grey\")\n\t\ttitle(main=paste(\"CORRECTED\",nom))\n\t\tlines(procut,col=\"grey\")\n\t\tabline(v=limites)\n\t\tlimites <- limites[c(2:length(limites))]\n\t\tpoints(limites,procut[limites],pc=1,col=\"green\",cex=1.2,lwd=3)\n\t\tpoints(0,procut[1],pc=1,col=\"green\",cex=1.2,lwd=3)\n\t\tpos<-c(limites[1]/2,diff(limites)/2)\n\t\tyear <- year[c(length(diffmill)+2:length(year))]\n\t\ttext(limites-pos,0.95*max(procut),as.character(year),cex=0.7,srt=90,col=\"red\")\n\t\treadline()\n\t\t#sauvegarde\n\t        sortie <- list(length = 3)\n\t        sortie[[1]] <- procut\n\t        sortie[[2]] <- limites\n\t\tsortie[[3]] <- year\n\t        names(sortie) <- c(\"profil\", \"limites\",\"millesimes\")\n\t        assign(paste(nom,sep=\"\"), sortie, pos = 1, immediate = T)\n\t\t} else \tif (gg == \"r\")\n\t\t{\n\t\t  print(k)\n\t\t  diffmill <- limites[limites>k]\n\t\t  limites <- limites[limites<k]\n\t\t  procut<-profil[c(1:max(limites))] ## A finir, pbm sur les limites....\n\t\t  plot(procut,col=\"dark grey\")\n\t\t  title(main=paste(\"CORRECTED\",nom))\n\t\t  lines(procut,col=\"grey\")\n\t\t  abline(v=limites)\n\t\t  # limites <- limites[c(2:length(limites))]\n\t\t  points(limites,procut[limites],pc=1,col=\"green\",cex=1.2,lwd=3)\n\t\t  pos<-c(limites[1]/2,diff(limites)/2)\n\t\t  year <- year[c(length(diffmill)+1:length(year))]\n\t\t  text(limites-pos,0.95*max(procut),as.character(year),cex=0.7,srt=90,col=\"red\")\n\t\t  readline()\n\t\t  #sauvegarde\n\t\t  sortie <- list(length = 3)\n\t\t  sortie[[1]] <- procut\n\t\t  sortie[[2]] <- limites\n\t\t  sortie[[3]] <- year\n\t\t  names(sortie) <- c(\"profil\", \"limites\",\"millesimes\")\n\t\t  assign(paste(nom,sep=\"\"), sortie, pos = 1, immediate = T)\n\t\t} else {\n\t\t  print(\"You only have two choice...How can you fail...\")\n\t\t}\n\t}\n}\n\n",
    "created" : 1495111696095.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1506272408",
    "id" : "E9699DD5",
    "lastKnownWriteTime" : 1495539798,
    "last_content_update" : 1495539798594,
    "path" : "D:/thchauvin/Doc-INRA/Stats R/Packages/MicrodensiteR/R/cut_one_side.R",
    "project_path" : "R/cut_one_side.R",
    "properties" : {
        "source_window_id" : ""
    },
    "relative_order" : 15,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}