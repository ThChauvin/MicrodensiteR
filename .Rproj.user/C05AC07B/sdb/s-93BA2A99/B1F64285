{
    "collab_server" : "",
    "contents" : "#' cut_reverse_OW\n#'\n#' @param ii pattern in files you want to cut\n#' @details You have to click where you want to slip the profil\n#' @return two separate profil\n#' @export\n#'\n#' @examples\ncut_reverse_OW<-function(ii = \"dat\")\n{\n  par(mfrow=c(1,1),pty=\"m\")\n  liste<-objects(pattern= ii ,pos=1)\n\n  for (i in 1:length(liste))\n  {\n    k<-NULL\n    print(i)\n    nom<-liste[i]\n    data<-get(nom,pos=1)\n    profil<-data$profil\n    l <- length(profil)\n    plot(profil,col=\"dark grey\")\n    title(main=paste(\"arbre\",nom))\n    lines(profil,col=\"grey\")\n    limites<-data$limites\n    abline(v=limites)\n    points(limites,profil[limites],pc=1,col=\"green\",cex=1.2,lwd=3)\n    year<-data$millesimes\n    pos<-c(limites[1]/2,diff(limites)/2)\n    text(limites-pos,0.95*max(profil),as.character(year),cex=0.7,srt=90,col=\"red\")\n    k<-identify(seq(along=profil),profil,n=1)\n\n    print(k)\n    limP3 <- limites[limites>k]\n    limP4 <- limites[limites<k]\n    P3 <- profil[k:max(limP3)]\n    P4 <- profil[min(limP4):k]\n    P4 <- rev(P4)\n\n    plot(P3,col=\"dark grey\")\n    title(main=paste(\"CORRECTED\",nom,\"P3\"))\n    lines(P3,col=\"grey\")\n    abline(v=limP3-k)\n    limiP3 <- limP3-k\n    points(limiP3,P3[limiP3],pc=1,col=\"green\",cex=1.2,lwd=3)\n    points(0,P3[1],pc=1,col=\"green\",cex=1.2,lwd=3)\n    pos<-c(limiP3[1]/2,diff(limiP3)/2)\n    yearP3 <- year[c(length(limP3)+1:length(year))]\n    text(limiP3-pos,0.95*max(P3),as.character(yearP3),cex=0.7,srt=90,col=\"red\")\n\n    plot(P4,col=\"dark grey\")\n    title(main=paste(\"CORRECTED\",nom,\"P4\"))\n    lines(P4,col=\"grey\")\n    abline(v=limP4)\n    limiP4 <- limP4\n    points(limiP4,P4[limiP4],pc=1,col=\"green\",cex=1.2,lwd=3)\n    points(0,P4[1],pc=1,col=\"green\",cex=1.2,lwd=3)\n    pos<-c(limiP4[1]/2,diff(limiP4)/2)\n    yearP4 <- year[c(length(limP4)+1:length(year))]\n    text(limiP4-pos,0.95*max(P4),as.character(yearP4),cex=0.7,srt=90,col=\"red\")\n\n    readline()\n    #sauvegarde\n    sortie1 <- list(length = 4)\n    sortie1[[1]] <- P3\n    sortie1[[2]] <- limiP3\n    sortie1[[3]] <- yearP3\n    sortie1[[4]] <- \"3\"\n    names(sortie1) <- c(\"profil\", \"limites\",\"millesimes\",\"sample_number\")\n    assign(paste(nom,\"3\",sep=\"_\"), sortie1, pos = 1, immediate = T)\n\n    sortie2 <- list(length = 4)\n    sortie2[[1]] <- P4\n    sortie2[[2]] <- limiP4\n    sortie2[[3]] <- yearP4\n    sortie2[[4]] <- \"4\"\n    names(sortie2) <- c(\"profil\", \"limites\",\"millesimes\",\"sample_number\")\n    assign(paste(nom,\"4\",sep=\"_\"), sortie2, pos = 1, immediate = T)\n\n  }\n\n}\n",
    "created" : 1495116598094.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3911026205",
    "id" : "B1F64285",
    "lastKnownWriteTime" : 1495537871,
    "last_content_update" : 1495537871059,
    "path" : "D:/thchauvin/Doc-INRA/Stats R/Packages/MicrodensiteR/R/cut_reverse_OW.R",
    "project_path" : "R/cut_reverse_OW.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 17,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}